index.html

<script>
  const scripts = [
    "app.js",

    "generator/verilog.js",
    "generator/vhdl.js",
    "generator/arduino.js",
    "generator/cpp.js",
    "generator/html.js",

    "simulator/logic.js",
    "simulator/waves.js",

    "usb/webserial.js"
  ];

  function loadScript(src) {
    return new Promise((resolve, reject) => {
      const s = document.createElement("script");
      s.src = src;
      s.onload = resolve;
      s.onerror = () => reject(src);
      document.body.appendChild(s);
    });
  }

  (async () => {
    for (const src of scripts) {
      try {
        await loadScript(src);
        console.log("OK:", src);
      } catch (e) {
        console.error("ERREUR SCRIPT:", e);
        document.body.innerHTML = "<h1>Erreur JS : " + src + "</h1>";
        break;
      }
    }
  })();
</script>
