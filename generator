// generator/verilog.js
// Version SAFE – générateur Verilog basique

(function () {
  "use strict";

  console.log("verilog.js chargé ✅");

  /**
   * Génère un module Verilog simple (porte logique)
   * @param {string} gate AND | OR | XOR
   * @returns {string} code Verilog
   */
  window.generateVerilog = function (gate = "AND") {
    gate = gate.toUpperCase();

    let op;
    switch (gate) {
      case "AND":
        op = "&";
        break;
      case "OR":
        op = "|";
        break;
      case "XOR":
        op = "^";
        break;
      default:
        op = "&";
    }

    return `
module logic_gate (
  input wire A,
  input wire B,
  output wire Y
);

assign Y = A ${op} B;

endmodule
`.trim();
  };

})();
